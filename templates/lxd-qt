#!/bin/bash

# Author: Nathanel Titane - nathanel.titane@gmail.com

# lxd qt #

# dependencies #

# dependencies #  curl -sL dep.dxtp.app/console > /usr/bin/console && source /usr/bin/console

# variables #

home="/home/${SUDO_USER:-$USER}"
environment_directory="/etc/environment"

# configuration #

console.inf "Setting additional environment variables..."

cat << 'FILE' >> "$environment_directory"

# fix memory segment allocation in lxd containers for qt applications #

export QT_X11_NO_MITSHM=1
export QT_GRAPHICSSYSTEM=native
FILE
