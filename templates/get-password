 
#!/bin/bash

# Author: Nathanel Titane - nathanel.titane@gmail.com

# get password #

# dependencies #

source ./console

#configuration #

console.info "Set desired password for system use..."

unset password

echo -n "Password: "

while IFS= read -p "$prompt" -r -s -n 1 character
do
    # enter / accept password
    
    if [[ $character == $'\0' ]]
    then
        break
    fi
    
    # handle backspace / delete character input
    
    if [[ $character == $'\177' ]]
    then
        prompt=$'\b \b'
        password="${password%?}"
    else
        prompt='*'
        password+="$character"
    fi
done
